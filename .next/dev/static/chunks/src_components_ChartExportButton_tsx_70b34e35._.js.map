{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Forex-Journal/src/components/ChartExportButton.tsx"],"sourcesContent":["'use client';\r\n\r\nexport default function ChartExportButton({ selector, filename = 'chart.png' }: { selector: string; filename?: string }) {\r\n  async function exportSvgAsPng() {\r\n    const el = document.querySelector(selector) as HTMLElement | null;\r\n    if (!el) {\r\n      alert('Chart container not found');\r\n      return;\r\n    }\r\n\r\n    // If it contains an SVG, serialize it\r\n    const svg = el.querySelector('svg');\r\n    if (svg) {\r\n      const serializer = new XMLSerializer();\r\n      const svgString = serializer.serializeToString(svg as any);\r\n      const svgData = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svgString);\r\n      const img = new Image();\r\n      img.onload = () => {\r\n        const canvas = document.createElement('canvas');\r\n        canvas.width = svg.clientWidth || img.width;\r\n        canvas.height = svg.clientHeight || img.height;\r\n        const ctx = canvas.getContext('2d');\r\n        if (!ctx) return;\r\n        ctx.fillStyle = getComputedStyle(document.body).backgroundColor || '#0a0a0a';\r\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n        ctx.drawImage(img, 0, 0);\r\n        const url = canvas.toDataURL('image/png');\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = filename;\r\n        a.click();\r\n      };\r\n      img.onerror = () => alert('Failed to export SVG chart');\r\n      img.src = svgData;\r\n      return;\r\n    }\r\n\r\n    // Fallback: use html2canvas if present\r\n    // (not installed by default here - user can install if needed)\r\n    alert('SVG not found in container. If you need HTML capture, install html-to-image or html2canvas.');\r\n  }\r\n\r\n  return (\r\n    <button type=\"button\" aria-label=\"Export chart as PNG\" title=\"Export chart as PNG\" onClick={exportSvgAsPng} className=\"btn-gradient px-3 py-2 rounded text-sm\">Export Chart PNG</button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAEe,SAAS,kBAAkB,EAAE,QAAQ,EAAE,WAAW,WAAW,EAA2C;IACrH,eAAe;QACb,MAAM,KAAK,SAAS,aAAa,CAAC;QAClC,IAAI,CAAC,IAAI;YACP,MAAM;YACN;QACF;QAEA,sCAAsC;QACtC,MAAM,MAAM,GAAG,aAAa,CAAC;QAC7B,IAAI,KAAK;YACP,MAAM,aAAa,IAAI;YACvB,MAAM,YAAY,WAAW,iBAAiB,CAAC;YAC/C,MAAM,UAAU,sCAAsC,mBAAmB;YACzE,MAAM,MAAM,IAAI;YAChB,IAAI,MAAM,GAAG;gBACX,MAAM,SAAS,SAAS,aAAa,CAAC;gBACtC,OAAO,KAAK,GAAG,IAAI,WAAW,IAAI,IAAI,KAAK;gBAC3C,OAAO,MAAM,GAAG,IAAI,YAAY,IAAI,IAAI,MAAM;gBAC9C,MAAM,MAAM,OAAO,UAAU,CAAC;gBAC9B,IAAI,CAAC,KAAK;gBACV,IAAI,SAAS,GAAG,iBAAiB,SAAS,IAAI,EAAE,eAAe,IAAI;gBACnE,IAAI,QAAQ,CAAC,GAAG,GAAG,OAAO,KAAK,EAAE,OAAO,MAAM;gBAC9C,IAAI,SAAS,CAAC,KAAK,GAAG;gBACtB,MAAM,MAAM,OAAO,SAAS,CAAC;gBAC7B,MAAM,IAAI,SAAS,aAAa,CAAC;gBACjC,EAAE,IAAI,GAAG;gBACT,EAAE,QAAQ,GAAG;gBACb,EAAE,KAAK;YACT;YACA,IAAI,OAAO,GAAG,IAAM,MAAM;YAC1B,IAAI,GAAG,GAAG;YACV;QACF;QAEA,uCAAuC;QACvC,+DAA+D;QAC/D,MAAM;IACR;IAEA,qBACE,6LAAC;QAAO,MAAK;QAAS,cAAW;QAAsB,OAAM;QAAsB,SAAS;QAAgB,WAAU;kBAAyC;;;;;;AAEnK;KA3CwB"}}]
}