(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96673,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(25949),a=e.i(33369),i=["axis"],l=(0,r.forwardRef)((e,t)=>r.createElement(a.CartesianChart,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:i,tooltipPayloadSearcher:n.arrayTooltipSearcher,categoricalChartProps:e,ref:t})),o=r,s=e.i(7670),c=e.i(97865),d=e.i(69212),u=e.i(86031),p=e.i(94395),f=e.i(81977),h=e.i(79812),m=e.i(41818),y=e.i(844),g=e.i(45542),x=e.i(59798),v=e.i(46710),b=e.i(75337),j=e.i(61849),w=e.i(92860),O=e.i(61764),P=(e,t,r,n)=>(0,O.selectAxisWithScale)(e,"xAxis",t,n),S=(e,t,r,n)=>(0,O.selectTicksOfGraphicalItem)(e,"xAxis",t,n),E=(e,t,r,n)=>(0,O.selectAxisWithScale)(e,"yAxis",r,n),N=(e,t,r,n)=>(0,O.selectTicksOfGraphicalItem)(e,"yAxis",r,n),D=(0,j.createSelector)([v.selectChartLayout,P,E,S,N],(e,t,r,n,a)=>(0,h.isCategoricalAxis)(e,"xAxis")?(0,h.getBandSizeOfAxis)(t,n,!1):(0,h.getBandSizeOfAxis)(r,a,!1));function A(e){return"line"===e.type}var k=(0,j.createSelector)([O.selectUnfilteredCartesianItems,(e,t,r,n,a)=>a],(e,t)=>e.filter(A).find(e=>e.id===t)),I=(0,j.createSelector)([v.selectChartLayout,P,E,S,N,k,D,w.selectChartDataWithIndexesIfNotInPanoramaPosition4],(e,t,r,n,a,i,l,o)=>{var s,{chartData:c,dataStartIndex:d,dataEndIndex:u}=o;if(null!=i&&null!=t&&null!=r&&null!=n&&null!=a&&0!==n.length&&0!==a.length&&null!=l&&("horizontal"===e||"vertical"===e)){var{dataKey:f,data:m}=i;if(null!=(s=null!=m&&m.length>0?m:null==c?void 0:c.slice(d,u+1)))return function(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:s}=e;return s.map((e,s)=>{var c=(0,h.getValueByDataKey)(e,l);if("horizontal"===t)return{x:(0,h.getCateCoordinateOfLine)({axis:r,ticks:a,bandSize:o,entry:e,index:s}),y:(0,p.isNullish)(c)?null:n.scale(c),value:c,payload:e};var d=(0,p.isNullish)(c)?null:r.scale(c),u=(0,h.getCateCoordinateOfLine)({axis:n,ticks:i,bandSize:o,entry:e,index:s});return null==d||null==u?null:{x:d,y:u,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:l,displayedData:s})}}),C=e.i(27241),L=e.i(95146),T=e.i(40657),M=e.i(51883),R=e.i(52734),q=e.i(15549),z=e.i(91187),K=e.i(57999),W=e.i(66576),B=e.i(43404),$=e.i(81583),F=e.i(18519),G=e.i(29601),V=e.i(18457),Y=e.i(20135),Z=["id"],U=["type","layout","connectNulls","needClip","shape"],H=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function X(){return(X=Object.assign.bind()).apply(null,arguments)}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach(function(t){var n,a,i;n=e,a=t,i=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Q(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var ee=o.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:s,unit:c,tooltipType:d,id:u}=e,p={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:(0,h.getTooltipNameProp)(l,t),hide:s,type:d,color:n,unit:c,graphicalItemId:u}};return o.createElement(y.SetTooltipEntrySettings,{tooltipEntrySettings:p})}),et=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function er(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:l}=n,{id:s}=n,c=Q(n,Z),d=(0,K.svgPropertiesNoEvents)(c);return o.createElement(u.Dots,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:d,needClip:l,clipPathId:t})}function en(e){var{showLabels:t,children:r,points:n}=e,a=(0,o.useMemo)(()=>null==n?void 0:n.map(e=>{var t,r,n={x:null!=(t=e.x)?t:0,y:null!=(r=e.y)?r:0,width:0,lowerWidth:0,upperWidth:0,height:0};return _(_({},n),{},{value:e.value,payload:e.payload,viewBox:n,parentViewBox:void 0,fill:void 0})}),[n]);return o.createElement(d.CartesianLabelListContextProvider,{value:t?a:void 0},r)}function ea(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:l,layout:s,connectNulls:c,needClip:d,shape:u}=i,p=Q(i,U),f=_(_({},(0,B.svgPropertiesAndEvents)(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:s,connectNulls:c,strokeDasharray:null!=a?a:i.strokeDasharray});return o.createElement(o.Fragment,null,(null==n?void 0:n.length)>1&&o.createElement(F.Shape,X({shapeType:"curve",option:u},f,{pathRef:r})),o.createElement(er,{points:n,clipPathId:t,props:i}))}function ei(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:s,isAnimationActive:c,animationBegin:u,animationDuration:f,animationEasing:h,animateNewValues:m,width:y,height:g,onAnimationEnd:x,onAnimationStart:v}=r,b=a.current,j=(0,T.useAnimationId)(l,"recharts-line-"),w=(0,o.useRef)(j),[O,P]=(0,o.useState)(!1),S=(0,o.useCallback)(()=>{"function"==typeof x&&x(),P(!1)},[x]),E=(0,o.useCallback)(()=>{"function"==typeof v&&v(),P(!0)},[v]),N=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}(n.current),D=(0,o.useRef)(0);w.current!==j&&(D.current=i.current,w.current=j);var A=D.current;return o.createElement(en,{points:l,showLabels:!O},r.children,o.createElement(W.JavascriptAnimate,{animationId:j,begin:u,duration:f,isActive:c,easing:h,onAnimationEnd:S,onAnimationStart:E,key:j},e=>{var d,u=Math.min((0,p.interpolate)(A,N+A,e),N);if(d=c?s?((e,t,r)=>{var n=r.reduce((e,t)=>e+t);if(!n)return et(t,e);for(var a=Math.floor(e/n),i=e%n,l=t-e,o=[],s=0,c=0;s<r.length;c+=r[s],++s)if(c+r[s]>i){o=[...r.slice(0,s),i-c];break}var d=o.length%2==0?[0,l]:[l];return[...function(e,t){for(var r=e.length%2!=0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}(r,a),...o,...d].map(e=>"".concat(e,"px")).join(", ")})(u,N,"".concat(s).split(/[,\s]+/gim).map(e=>parseFloat(e))):et(N,u):null==s?void 0:String(s),e>0&&N>0&&(a.current=l,i.current=Math.max(i.current,u)),b){var f=b.length/l.length,h=1===e?l:l.map((t,r)=>{var n=Math.floor(r*f);if(b[n]){var a=b[n];return _(_({},t),{},{x:(0,p.interpolate)(a.x,t.x,e),y:(0,p.interpolate)(a.y,t.y,e)})}return m?_(_({},t),{},{x:(0,p.interpolate)(2*y,t.x,e),y:(0,p.interpolate)(g/2,t.y,e)}):_(_({},t),{},{x:t.x,y:t.y})});return a.current=h,o.createElement(ea,{props:r,points:h,clipPathId:t,pathRef:n,strokeDasharray:d})}return o.createElement(ea,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:d})}),o.createElement(d.LabelListFromLabelProp,{label:r.label}))}function el(e){var{clipPathId:t,props:r}=e,n=(0,o.useRef)(null),a=(0,o.useRef)(0),i=(0,o.useRef)(null);return o.createElement(ei,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var eo=(e,t)=>{var r,n;return{x:null!=(r=e.x)?r:void 0,y:null!=(n=e.y)?n:void 0,value:e.value,errorVal:(0,h.getValueByDataKey)(e.payload,t)}};class es extends o.Component{render(){var{hide:e,dot:t,points:r,className:n,xAxisId:a,yAxisId:i,top:l,left:d,width:u,height:p,id:h,needClip:y,zIndex:v}=this.props;if(e)return null;var b=(0,s.clsx)("recharts-line",n),{r:j,strokeWidth:w}=(0,$.getRadiusAndStrokeWidthFromDot)(t),O=(0,f.isClipDot)(t),P=2*j+w,S=y?"url(#clipPath-".concat(O?"":"dots-").concat(h,")"):void 0;return o.createElement(G.ZIndexLayer,{zIndex:v},o.createElement(c.Layer,{className:b},y&&o.createElement("defs",null,o.createElement(x.GraphicalItemClipPath,{clipPathId:h,xAxisId:a,yAxisId:i}),!O&&o.createElement("clipPath",{id:"clipPath-dots-".concat(h)},o.createElement("rect",{x:d-P/2,y:l-P/2,width:u+P,height:p+P}))),o.createElement(g.SetErrorBarContext,{xAxisId:a,yAxisId:i,data:r,dataPointFormatter:eo,errorBarOffset:0},o.createElement(el,{props:this.props,clipPathId:h}))),o.createElement(m.ActivePoints,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var ec={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:V.DefaultZIndexes.line,type:"linear"};function ed(e){var t=(0,M.resolveDefaultProps)(e,ec),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:s,dot:c,hide:d,isAnimationActive:u,label:p,legendType:f,xAxisId:h,yAxisId:m,id:y}=t,g=Q(t,H),{needClip:j}=(0,x.useNeedsClip)(h,m),w=(0,R.usePlotArea)(),O=(0,v.useChartLayout)(),P=(0,b.useIsPanorama)(),S=(0,C.useAppSelector)(e=>I(e,h,m,P,y));if("horizontal"!==O&&"vertical"!==O||null==S||null==w)return null;var{height:E,width:N,x:D,y:A}=w;return o.createElement(es,X({},g,{id:y,connectNulls:s,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:u,hide:d,label:p,legendType:f,xAxisId:h,yAxisId:m,points:S,layout:O,height:E,width:N,left:D,top:A,needClip:j}))}var eu=o.memo(function(e){var t=(0,M.resolveDefaultProps)(e,ec),r=(0,b.useIsPanorama)();return o.createElement(q.RegisterGraphicalItemId,{id:t.id,type:"line"},e=>o.createElement(o.Fragment,null,o.createElement(L.SetLegendPayload,{legendPayload:(e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:(0,h.getTooltipNameProp)(r,t),payload:e}]})(t)}),o.createElement(ee,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:e}),o.createElement(z.SetCartesianGraphicalItem,{type:"line",id:e,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),o.createElement(ed,X({},t,{id:e}))))},Y.propsAreEqual);eu.displayName="Line";var ep=e.i(237),ef=e.i(38279),eh=e.i(494),em=e.i(44171),ey=e.i(31725),eg=e.i(89763);function ex(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ev(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ex(Object(r),!0).forEach(function(t){var n,a,i;n=e,a=t,i=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ex(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eb(){return(eb=Object.assign.bind()).apply(null,arguments)}function ej(e){var t=(0,C.useAppDispatch)();return(0,r.useEffect)(()=>(t((0,ey.addDot)(e)),()=>{t((0,ey.removeDot)(e))})),null}function ew(e){var{x:t,y:n,r:a}=e,i=(0,eg.useClipPathId)(),l=((e,t,r,n,a)=>{var i=(0,p.isNumOrStr)(e),l=(0,p.isNumOrStr)(t),o=(0,b.useIsPanorama)(),s=(0,C.useAppSelector)(e=>(0,O.selectAxisScale)(e,"xAxis",r,o)),c=(0,C.useAppSelector)(e=>(0,O.selectAxisScale)(e,"yAxis",n,o));if(!i||!l||null==s||null==c)return null;var d=(0,em.createLabeledScales)({x:s,y:c}),u=d.apply({x:e,y:t},{bandAware:!0});return"discard"!==a||d.isInRange(u)?u:null})(t,n,e.xAxisId,e.yAxisId,e.ifOverflow);if(!l)return null;var{x:o,y:d}=l,{shape:u,className:f,ifOverflow:h}=e,m=ev(ev({clipPath:"hidden"===h?"url(#".concat(i,")"):void 0},(0,B.svgPropertiesAndEvents)(e)),{},{cx:o,cy:d});return r.createElement(G.ZIndexLayer,{zIndex:e.zIndex},r.createElement(c.Layer,{className:(0,s.clsx)("recharts-reference-dot",f)},r.isValidElement(u)?r.cloneElement(u,m):"function"==typeof u?u(m):r.createElement(ef.Dot,eb({},m,{cx:m.cx,cy:m.cy,className:"recharts-reference-dot-dot"})),r.createElement(eh.CartesianLabelContextProvider,{x:o-a,y:d-a,width:2*a,height:2*a,upperWidth:2*a,lowerWidth:2*a},r.createElement(eh.CartesianLabelFromLabelProp,{label:e.label}),e.children)))}var eO={ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1,zIndex:V.DefaultZIndexes.scatter};function eP(e){var t=(0,M.resolveDefaultProps)(e,eO),{x:n,y:a,r:i,ifOverflow:l,yAxisId:o,xAxisId:s}=t;return r.createElement(r.Fragment,null,r.createElement(ej,{y:a,x:n,r:i,yAxisId:o,xAxisId:s,ifOverflow:l}),r.createElement(ew,t))}eP.displayName="ReferenceDot";var eS=e.i(9694),eE=e.i(75225),eN=e.i(41891),eD=e.i(38814),eA=e.i(22787),ek=e.i(85183),eI=e.i(93230),eC=e.i(72526),eL=e.i(34239),eT=e.i(74080),eM=e.i(88860),eR=e.i(48337),eq=e.i(13659),ez=e.i(73393);function eK(){return(eK=Object.assign.bind()).apply(null,arguments)}function eW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var eB={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function e$(e){var t,{data:n,iconType:a,inactiveColor:i}=e,l=32/6,o=32/3,s=n.inactive?i:n.color,c=null!=a?a:n.type;if("none"===c)return null;if("plainline"===c)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:null==(t=n.payload)?void 0:t.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===c)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(16,"h").concat(o,"\n            A").concat(l,",").concat(l,",0,1,1,").concat(2*o,",").concat(16,"\n            H").concat(32,"M").concat(2*o,",").concat(16,"\n            A").concat(l,",").concat(l,",0,1,1,").concat(o,",").concat(16),className:"recharts-legend-icon"});if("rect"===c)return r.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(n.legendIcon)){var d=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eW(Object(r),!0).forEach(function(t){var n,a,i;n=e,a=t,i=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},n);return delete d.legendIcon,r.cloneElement(n.legendIcon,d)}return r.createElement(eq.Symbols,{fill:s,cx:16,cy:16,size:32,sizeType:"diameter",type:c})}function eF(e){var{payload:t,iconSize:n,layout:a,formatter:i,inactiveColor:l,iconType:o}=e,c={x:0,y:0,width:32,height:32},d={display:"horizontal"===a?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((t,a)=>{var p=t.formatter||i,f=(0,s.clsx)({"recharts-legend-item":!0,["legend-item-".concat(a)]:!0,inactive:t.inactive});if("none"===t.type)return null;var h=t.inactive?l:t.color,m=p?p(t.value,t,a):t.value;return r.createElement("li",eK({className:f,style:d,key:"legend-item-".concat(a)},(0,ez.adaptEventsOfChild)(e,t,a)),r.createElement(eR.Surface,{width:n,height:n,viewBox:c,style:u,"aria-label":"".concat(m," legend icon")},r.createElement(e$,{data:t,iconType:o,inactiveColor:l})),r.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},m))})}var eG=e=>{var t=(0,M.resolveDefaultProps)(e,eB),{payload:n,layout:a,align:i}=t;return n&&n.length?r.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===a?i:"left"}},r.createElement(eF,eK({},t,{payload:n}))):null},eV=e.i(51587),eY=e.i(21307),eZ=e.i(35709),eU=e.i(93882),eH=["contextPayload"];function eX(){return(eX=Object.assign.bind()).apply(null,arguments)}function eJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eJ(Object(r),!0).forEach(function(t){var n,a,i;n=e,a=t,i=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eJ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eQ(e){return e.value}function e0(e){var{contextPayload:t}=e,n=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,eH),a=(0,eV.getUniqPayload)(t,e.payloadUniqBy,eQ),i=e_(e_({},n),{},{payload:a});return r.isValidElement(e.content)?r.cloneElement(e.content,i):"function"==typeof e.content?r.createElement(e.content,i):r.createElement(eG,i)}function e1(e){var t=(0,C.useAppDispatch)();return(0,r.useEffect)(()=>{t((0,eU.setLegendSettings)(e))},[t,e]),null}function e2(e){var t=(0,C.useAppDispatch)();return(0,r.useEffect)(()=>(t((0,eU.setLegendSize)(e)),()=>{t((0,eU.setLegendSize)({width:0,height:0}))}),[t,e]),null}var e3={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function e4(e){var t,n=(0,M.resolveDefaultProps)(e,e3),a=(0,C.useAppSelector)(eY.selectLegendPayload),i=(0,eM.useLegendPortal)(),l=(0,v.useMargin)(),{width:o,height:s,wrapperStyle:c,portal:d}=n,[u,f]=(0,eZ.useElementOffset)([a]),h=(0,v.useChartWidth)(),m=(0,v.useChartHeight)();if(null==h||null==m)return null;var y=h-((null==l?void 0:l.left)||0)-((null==l?void 0:l.right)||0),g=(t=n.layout,"vertical"===t&&(0,p.isNumber)(s)?{height:s}:"horizontal"===t?{width:o||y}:null),x=d?c:e_(e_({position:"absolute",width:(null==g?void 0:g.width)||o||"auto",height:(null==g?void 0:g.height)||s||"auto"},function(e,t,r,n,a,i){var l,o,{layout:s,align:c,verticalAlign:d}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(l="center"===c&&"vertical"===s?{left:((n||0)-i.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===d?{top:((a||0)-i.height)/2}:"bottom"===d?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),e_(e_({},l),o)}(c,n,l,h,m,u)),c),b=null!=d?d:i;if(null==b||null==a)return null;var j=r.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:f},r.createElement(e1,{layout:n.layout,align:n.align,verticalAlign:n.verticalAlign,itemSorter:n.itemSorter}),!d&&r.createElement(e2,{width:u.width,height:u.height}),r.createElement(e0,eX({},n,g,{margin:l,chartWidth:h,chartHeight:m,contextPayload:a})));return(0,eT.createPortal)(j,b)}e4.displayName="Legend";var e6=e.i(31195),e8=e.i(70703);let e7=(0,e8.default)(()=>e.A(83487),{loadableGenerated:{modules:[61392]},ssr:!1}),e9=(0,e8.default)(()=>e.A(74046),{loadableGenerated:{modules:[96909]},ssr:!1});function e5({trades:e,startDate:n,endDate:a}){let[i,o]=(0,r.useState)({dailyPnL:[],pairPerformance:[],directionPerformance:[],equity:[]});(0,r.useEffect)(()=>{if(!e.length)return;let t=e;(n||a)&&(t=e.filter(e=>{let t=new Date(e.entryTime);return!(n&&new Date(t.toISOString().slice(0,10))<new Date(n)||a&&new Date(t.toISOString().slice(0,10))>new Date(a))}));let r={};t.forEach(e=>{let t=new Date(e.entryTime).toLocaleDateString();r[t]=(r[t]||0)+(e.profitLoss||0)});let i=Object.entries(r).map(([e,t])=>({date:e,pnl:Math.round(100*t)/100})),l={};e.forEach(e=>{l[e.pair]||(l[e.pair]={wins:0,losses:0,pnl:0}),"WIN"===e.outcome&&l[e.pair].wins++,"LOSS"===e.outcome&&l[e.pair].losses++,l[e.pair].pnl+=e.profitLoss||0});let s=Object.entries(l).map(([e,t])=>({pair:e,wins:t.wins,losses:t.losses,pnl:Math.round(100*t.pnl)/100})),c={LONG:{wins:0,losses:0},SHORT:{wins:0,losses:0}};e.forEach(e=>{"WIN"===e.outcome?c[e.direction].wins++:"LOSS"===e.outcome&&c[e.direction].losses++});let d=Object.entries(c).map(([e,t])=>({direction:e,value:t.wins,name:`${e} (${t.wins} wins)`})),u=[...t].sort((e,t)=>new Date(e.entryTime).getTime()-new Date(t.entryTime).getTime()),p=0,f=-1/0,h=u.map(e=>{p+=e.profitLoss||0;let t=Math.round(((f=Math.max(f,p))-p)*100)/100;return{date:new Date(e.entryTime).toLocaleDateString(),equity:Math.round(100*p)/100,drawdown:t}});h.reduce((e,t)=>Math.max(e,t.drawdown),0),h.length&&h.reduce((e,t)=>t.equity>e.equity?t:e,h[0]),h.length&&h.reduce((e,t)=>t.equity<e.equity?t:e,h[0]),o({dailyPnL:i,pairPerformance:s,directionPerformance:d,equity:h})},[e]);let s=i.equity.length?i.equity.reduce((e,t)=>t.equity>e.equity?t:e,i.equity[0]):null,c=i.equity.length?i.equity.reduce((e,t)=>t.equity<e.equity?t:e,i.equity[0]):null,d=["#10b981","#ef4444"];return(0,t.jsxs)("div",{className:"space-y-8",children:[i.equity.length>0&&(0,t.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Equity Curve (Live)"}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(e7,{selector:".recharts-wrapper",filename:`equity-${new Date().toISOString().slice(0,10)}.png`})})]}),(0,t.jsx)(e6.ResponsiveContainer,{width:"100%",height:320,children:(0,t.jsxs)(l,{data:i.equity,className:"equity-chart",children:["              ",(0,t.jsx)(eC.CartesianGrid,{strokeDasharray:"3 3",stroke:"#111827"}),(0,t.jsx)(ek.XAxis,{dataKey:"date",stroke:"#6b7280"}),(0,t.jsx)(eI.YAxis,{stroke:"#6b7280"}),(0,t.jsx)(eL.Tooltip,{content:(0,t.jsx)(function({active:e,payload:r,label:n}){if(!e||!r||!r.length)return null;let a=r.find(e=>"equity"===e.dataKey)||r[0],i=r.find(e=>"drawdown"===e.dataKey);return(0,t.jsxs)("div",{className:"bg-gray-900 p-2 rounded text-sm text-white",children:[(0,t.jsx)("div",{className:"font-bold",children:n}),a&&(0,t.jsxs)("div",{children:["Equity: ",(0,t.jsx)("span",{className:"font-mono",children:a.value})]}),i&&(0,t.jsxs)("div",{children:["Drawdown: ",(0,t.jsx)("span",{className:"font-mono",children:i.value})]})]})},{})}),(0,t.jsx)(ep.Area,{type:"monotone",dataKey:"drawdown",fill:"#7c3aed",fillOpacity:.06,stroke:"none"}),(0,t.jsx)(eu,{type:"monotone",dataKey:"equity",stroke:"#06b6d4",strokeWidth:3,dot:!1,strokeOpacity:.98,isAnimationActive:!0,animationDuration:1200}),(0,t.jsx)(eu,{type:"monotone",dataKey:"drawdown",stroke:"#7c3aed",strokeWidth:2,dot:!1,strokeOpacity:.6,isAnimationActive:!0,animationDuration:1e3}),s&&(0,t.jsx)(eP,{x:s.date,y:s.equity,r:6,fill:"#06b6d4",stroke:"#fff",strokeWidth:1}),c&&(0,t.jsx)(eP,{x:c.date,y:c.equity,r:6,fill:"#7c3aed",stroke:"#fff",strokeWidth:1})]})})]}),i.dailyPnL.length>0&&(0,t.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Daily P&L"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(e7,{selector:".recharts-wrapper",filename:`daily-pnl-${new Date().toISOString().slice(0,10)}.png`}),(0,t.jsx)(e9,{trades:e,chartSelector:".recharts-wrapper"})]})]}),(0,t.jsx)(e6.ResponsiveContainer,{width:"100%",height:300,children:(0,t.jsxs)(l,{data:i.dailyPnL,children:[(0,t.jsx)(eC.CartesianGrid,{strokeDasharray:"3 3",stroke:"#111827"}),(0,t.jsx)(ek.XAxis,{dataKey:"date",stroke:"#6b7280"}),(0,t.jsx)(eI.YAxis,{stroke:"#6b7280"}),(0,t.jsx)(eL.Tooltip,{contentStyle:{backgroundColor:"#0b1220",border:"none",borderRadius:"0.5rem",color:"#fff"}}),(0,t.jsx)(eu,{type:"monotone",dataKey:"pnl",stroke:"#3b82f6",dot:{fill:"#3b82f6"},isAnimationActive:!0,strokeWidth:2})]})})]}),i.pairPerformance.length>0&&(0,t.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Performance by Pair"}),(0,t.jsx)(e6.ResponsiveContainer,{width:"100%",height:300,children:(0,t.jsxs)(eS.BarChart,{data:i.pairPerformance,children:[(0,t.jsx)(eC.CartesianGrid,{strokeDasharray:"3 3",stroke:"#111827"}),(0,t.jsx)(ek.XAxis,{dataKey:"pair",stroke:"#6b7280"}),(0,t.jsx)(eI.YAxis,{stroke:"#6b7280"}),(0,t.jsx)(eL.Tooltip,{contentStyle:{backgroundColor:"#0b1220",border:"none",borderRadius:"0.5rem",color:"#fff"}}),(0,t.jsx)(e4,{}),(0,t.jsx)(eE.Bar,{dataKey:"wins",fill:"#10b981"}),(0,t.jsx)(eE.Bar,{dataKey:"losses",fill:"#ef4444"})]})})]}),i.directionPerformance.length>0&&(0,t.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Win Rate by Direction"}),(0,t.jsx)(e6.ResponsiveContainer,{width:"100%",height:300,children:(0,t.jsxs)(eN.PieChart,{children:[(0,t.jsx)(eD.Pie,{data:i.directionPerformance,cx:"50%",cy:"50%",labelLine:!1,label:({name:e})=>e,outerRadius:80,fill:"#8884d8",dataKey:"value",children:i.directionPerformance.map((e,r)=>(0,t.jsx)(eA.Cell,{fill:d[r%d.length]},`cell-${r}`))}),(0,t.jsx)(eL.Tooltip,{contentStyle:{backgroundColor:"#0b1220",border:"none",borderRadius:"0.5rem",color:"#fff"}})]})})]})]})}function te({trades:e,onSelectRange:n}){let a=(0,r.useMemo)(()=>{let t={},r=new Date;for(let e=0;e<365;e++){let n=new Date(r);n.setDate(r.getDate()-e),t[n.toISOString().slice(0,10)]=0}return e.forEach(e=>{let r=function(e){if(!e)return null;let t=new Date("number"==typeof e?e:String(e));return!(t instanceof Date)||isNaN(t.getTime())?null:t.toISOString().slice(0,10)}(e.entryTime);r&&void 0!==t[r]&&(t[r]=(t[r]||0)+(e.profitLoss||0))}),Object.entries(t).map(([e,t])=>({day:e,pnl:t}))},[e]),i=Math.max(...a.map(e=>Math.abs(e.pnl)),1),[l,o]=(0,r.useState)(null),[s,c]=(0,r.useState)(null);(0,r.useEffect)(()=>{n&&n({start:l,end:s})},[l,s,n]);let[d,u]=(0,r.useState)(!1);function p(e){if(d){let t=new Date(e),r=new Date(t.getFullYear(),t.getMonth(),1).toISOString().slice(0,10),n=new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().slice(0,10);o(r),c(n);return}if(!l){o(e),c(null);return}if(l&&!s){if(e===l){o(null),c(null);return}let t=new Date(l);new Date(e)<t?(o(e),c(t.toISOString().slice(0,10))):c(e);return}o(e),c(null)}return(0,t.jsxs)("div",{className:"card-glass p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Yearly P&L Heatmap"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:[l&&(0,t.jsxs)("span",{children:["From ",(0,t.jsx)("strong",{children:l})]})," ",s&&(0,t.jsxs)("span",{children:[" to ",(0,t.jsx)("strong",{children:s})]}),(l||s)&&(0,t.jsx)("button",{className:"ml-3 text-sm text-blue-400",onClick:()=>{o(null),c(null),n&&n({start:null,end:null})},children:"Clear"})]}),(0,t.jsx)("button",{type:"button","aria-pressed":d,"aria-label":"Toggle month zoom",className:`px-2 py-1 rounded ${d?"bg-indigo-600 text-white":"bg-transparent text-gray-300 border border-gray-700"}`,onClick:()=>u(e=>!e),children:d?"Month Zoom: ON":"Month Zoom: OFF"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-52 gap-1",role:"grid","aria-label":"Yearly profit/loss heatmap",style:{gap:"6px"},children:a.map(e=>{let r=Math.min(1,Math.abs(e.pnl)/i),n=e.pnl>0?`rgba(16,185,129,${.14+.86*r})`:e.pnl<0?`rgba(239,68,68,${.14+.86*r})`:"transparent",a=function(e){if(!l)return!1;if(l&&!s)return e===l;let t=new Date(l),r=new Date(s),n=new Date(e);return n>=t&&n<=r}(e.day),o=Math.abs(e.pnl)>.25*i;return(0,t.jsx)("button",{title:`${e.day}: ${e.pnl}`,"aria-pressed":a,onClick:()=>p(e.day),onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),p(e.day))},style:{background:n,width:"36px",height:"36px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--foreground)",fontSize:"11px",...a?{boxShadow:"0 0 0 3px rgba(99,102,241,0.12)",outline:"none"}:{}},className:"focus:outline-none",children:o?e.pnl>0?`+$${Math.round(e.pnl)}`:`-$${Math.abs(Math.round(e.pnl))}`:""},e.day)})}),(0,t.jsx)("div",{className:"text-xs text-gray-400 mt-2",children:"Green = Profit, Pink = Loss. Click a day to set start, click another to set end. Toggle Month Zoom to select whole month on click. Clear to reset selection."})]})}function tt({trades:e}){let n=(0,r.useMemo)(()=>{let t={};return e.forEach(e=>{let r=new Date(e.entryTime),n=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;t[n]||(t[n]={pnl:0,trades:[]}),t[n].pnl+=e.profitLoss||0,t[n].trades.push(e)}),Object.entries(t).sort((e,t)=>t[0].localeCompare(e[0]))},[e]),[a,i]=(0,r.useState)({});return(0,t.jsxs)("div",{className:"card-glass p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Monthly Performance"}),(0,t.jsx)("div",{className:"space-y-2",children:n.map(([e,r])=>(0,t.jsxs)("div",{className:"border border-transparent hover:border-gray-700 rounded-lg p-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>i(t=>({...t,[e]:!t[e]})),children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-300 font-medium",children:e}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:[r.trades.length," trades"]})]}),(0,t.jsx)("div",{className:`text-lg font-bold ${r.pnl>=0?"text-green-400":"text-red-400"}`,children:r.pnl.toFixed(2)})]}),a[e]&&(0,t.jsx)("div",{className:"mt-2 text-sm text-gray-300",children:r.trades.map((e,r)=>(0,t.jsxs)("div",{className:"py-1 border-t border-gray-800",children:[new Date(e.entryTime).toLocaleString()," — ",e.pair," — ",e.profitLoss]},r))})]},e))})]})}var tr=e.i(9876),tn=e.i(5766),ta=e.i(53276);function ti(){let{theme:e,toggleTheme:n}=(0,tr.useTheme)(),[a,i]=(0,r.useState)([]),[l,o]=(0,r.useState)(!1),[s,c]=(0,r.useState)({start:null,end:null});return((0,r.useEffect)(()=>{o(!0)},[]),(0,r.useEffect)(()=>{l&&(async()=>{try{let e=await fetch("/api/trades",{headers:{"x-user-id":"demo-user"}});if(!e.ok){let t=null;try{t=await e.json()}catch(r){t=await e.text()}console.error("Failed to fetch trades:",e.status,t),i([]);return}let t=await e.json();if(!Array.isArray(t)){console.warn("Unexpected trades payload in analytics page",t),i([]);return}i(t)}catch(e){console.error("Error fetching trades:",e)}})()},[l]),l)?(0,t.jsxs)("div",{className:"min-h-screen bg-white dark:bg-slate-950",children:[(0,t.jsxs)("main",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Analytics & Insights"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your trading performance with detailed charts and metrics"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)(ta.default,{className:"flex-1 p-4",children:(0,t.jsx)(e5,{trades:a,startDate:s.start,endDate:s.end})}),(0,t.jsxs)("div",{className:"ml-auto text-sm text-gray-400",children:[s.start&&(0,t.jsxs)("div",{children:["Selected: ",(0,t.jsx)("strong",{children:s.start})," ",s.end&&(0,t.jsxs)("span",{children:["— ",(0,t.jsx)("strong",{children:s.end})]})]}),!s.start&&!s.end&&(0,t.jsx)("div",{className:"text-gray-500",children:"No date range selected"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8",children:[(0,t.jsx)(ta.default,{className:"p-4",children:(0,t.jsx)(te,{trades:a,onSelectRange:e=>c(e)})}),(0,t.jsx)(ta.default,{className:"p-4",children:(0,t.jsx)(tt,{trades:a})})]})]}),(0,t.jsx)(tn.Toaster,{position:"bottom-right"})]}):(0,t.jsx)("div",{className:"min-h-screen bg-white dark:bg-slate-950"})}e.s(["default",()=>ti],96673)}]);