module.exports=[16683,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(554),e=a.i(31760),f=["axis"],g=(0,c.forwardRef)((a,b)=>c.createElement(e.CartesianChart,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:f,tooltipPayloadSearcher:d.arrayTooltipSearcher,categoricalChartProps:a,ref:b})),h=c,i=a.i(98621),j=a.i(88949),k=a.i(36319),l=a.i(71555),m=a.i(68932),n=a.i(37082),o=a.i(56295),p=a.i(53242),q=a.i(12791),r=a.i(83663),s=a.i(17913),t=a.i(98382),u=a.i(25392),v=a.i(44381),w=a.i(98563),x=a.i(12168),y=(a,b,c,d)=>(0,x.selectAxisWithScale)(a,"xAxis",b,d),z=(a,b,c,d)=>(0,x.selectTicksOfGraphicalItem)(a,"xAxis",b,d),A=(a,b,c,d)=>(0,x.selectAxisWithScale)(a,"yAxis",c,d),B=(a,b,c,d)=>(0,x.selectTicksOfGraphicalItem)(a,"yAxis",c,d),C=(0,v.createSelector)([t.selectChartLayout,y,A,z,B],(a,b,c,d,e)=>(0,o.isCategoricalAxis)(a,"xAxis")?(0,o.getBandSizeOfAxis)(b,d,!1):(0,o.getBandSizeOfAxis)(c,e,!1));function D(a){return"line"===a.type}var E=(0,v.createSelector)([x.selectUnfilteredCartesianItems,(a,b,c,d,e)=>e],(a,b)=>a.filter(D).find(a=>a.id===b)),F=(0,v.createSelector)([t.selectChartLayout,y,A,z,B,E,C,w.selectChartDataWithIndexesIfNotInPanoramaPosition4],(a,b,c,d,e,f,g,h)=>{var i,{chartData:j,dataStartIndex:k,dataEndIndex:l}=h;if(null!=f&&null!=b&&null!=c&&null!=d&&null!=e&&0!==d.length&&0!==e.length&&null!=g&&("horizontal"===a||"vertical"===a)){var{dataKey:n,data:p}=f;if(null!=(i=null!=p&&p.length>0?p:null==j?void 0:j.slice(k,l+1)))return function(a){var{layout:b,xAxis:c,yAxis:d,xAxisTicks:e,yAxisTicks:f,dataKey:g,bandSize:h,displayedData:i}=a;return i.map((a,i)=>{var j=(0,o.getValueByDataKey)(a,g);if("horizontal"===b)return{x:(0,o.getCateCoordinateOfLine)({axis:c,ticks:e,bandSize:h,entry:a,index:i}),y:(0,m.isNullish)(j)?null:d.scale(j),value:j,payload:a};var k=(0,m.isNullish)(j)?null:c.scale(j),l=(0,o.getCateCoordinateOfLine)({axis:d,ticks:f,bandSize:h,entry:a,index:i});return null==k||null==l?null:{x:k,y:l,value:j,payload:a}}).filter(Boolean)}({layout:a,xAxis:b,yAxis:c,xAxisTicks:d,yAxisTicks:e,dataKey:n,bandSize:g,displayedData:i})}}),G=a.i(77368),H=a.i(92430),I=a.i(62320),J=a.i(87293),K=a.i(36745),L=a.i(46780),M=a.i(77025),N=a.i(72853),O=a.i(76342),P=a.i(7038),Q=a.i(10576),R=a.i(56998),S=a.i(96268),T=a.i(31080),U=a.i(95272),V=["id"],W=["type","layout","connectNulls","needClip","shape"],X=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Y(){return(Y=Object.assign.bind()).apply(null,arguments)}function Z(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function $(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?Z(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):Z(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function _(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}var aa=h.memo(a=>{var{dataKey:b,data:c,stroke:d,strokeWidth:e,fill:f,name:g,hide:i,unit:j,tooltipType:k,id:l}=a,m={dataDefinedOnItem:c,positions:void 0,settings:{stroke:d,strokeWidth:e,fill:f,dataKey:b,nameKey:void 0,name:(0,o.getTooltipNameProp)(g,b),hide:i,type:k,color:d,unit:j,graphicalItemId:l}};return h.createElement(q.SetTooltipEntrySettings,{tooltipEntrySettings:m})}),ab=(a,b)=>"".concat(b,"px ").concat(a-b,"px");function ac(a){var{clipPathId:b,points:c,props:d}=a,{dot:e,dataKey:f,needClip:g}=d,{id:i}=d,j=_(d,V),k=(0,N.svgPropertiesNoEvents)(j);return h.createElement(l.Dots,{points:c,dot:e,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:f,baseProps:k,needClip:g,clipPathId:b})}function ad(a){var{showLabels:b,children:c,points:d}=a,e=(0,h.useMemo)(()=>null==d?void 0:d.map(a=>{var b,c,d={x:null!=(b=a.x)?b:0,y:null!=(c=a.y)?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return $($({},d),{},{value:a.value,payload:a.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[d]);return h.createElement(k.CartesianLabelListContextProvider,{value:b?e:void 0},c)}function ae(a){var{clipPathId:b,pathRef:c,points:d,strokeDasharray:e,props:f}=a,{type:g,layout:i,connectNulls:j,needClip:k,shape:l}=f,m=_(f,W),n=$($({},(0,P.svgPropertiesAndEvents)(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:k?"url(#clipPath-".concat(b,")"):void 0,points:d,type:g,layout:i,connectNulls:j,strokeDasharray:null!=e?e:f.strokeDasharray});return h.createElement(h.Fragment,null,(null==d?void 0:d.length)>1&&h.createElement(R.Shape,Y({shapeType:"curve",option:l},n,{pathRef:c})),h.createElement(ac,{points:d,clipPathId:b,props:f}))}function af(a){var{clipPathId:b,props:c,pathRef:d,previousPointsRef:e,longestAnimatedLengthRef:f}=a,{points:g,strokeDasharray:i,isAnimationActive:j,animationBegin:l,animationDuration:n,animationEasing:o,animateNewValues:p,width:q,height:r,onAnimationEnd:s,onAnimationStart:t}=c,u=e.current,v=(0,I.useAnimationId)(g,"recharts-line-"),w=(0,h.useRef)(v),[x,y]=(0,h.useState)(!1),z=(0,h.useCallback)(()=>{"function"==typeof s&&s(),y(!1)},[s]),A=(0,h.useCallback)(()=>{"function"==typeof t&&t(),y(!0)},[t]),B=function(a){try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch(a){return 0}}(d.current),C=(0,h.useRef)(0);w.current!==v&&(C.current=f.current,w.current=v);var D=C.current;return h.createElement(ad,{points:g,showLabels:!x},c.children,h.createElement(O.JavascriptAnimate,{animationId:v,begin:l,duration:n,isActive:j,easing:o,onAnimationEnd:z,onAnimationStart:A,key:v},a=>{var k,l=Math.min((0,m.interpolate)(D,B+D,a),B);if(k=j?i?((a,b,c)=>{var d=c.reduce((a,b)=>a+b);if(!d)return ab(b,a);for(var e=Math.floor(a/d),f=a%d,g=b-a,h=[],i=0,j=0;i<c.length;j+=c[i],++i)if(j+c[i]>f){h=[...c.slice(0,i),f-j];break}var k=h.length%2==0?[0,g]:[g];return[...function(a,b){for(var c=a.length%2!=0?[...a,0]:a,d=[],e=0;e<b;++e)d=[...d,...c];return d}(c,e),...h,...k].map(a=>"".concat(a,"px")).join(", ")})(l,B,"".concat(i).split(/[,\s]+/gim).map(a=>parseFloat(a))):ab(B,l):null==i?void 0:String(i),a>0&&B>0&&(e.current=g,f.current=Math.max(f.current,l)),u){var n=u.length/g.length,o=1===a?g:g.map((b,c)=>{var d=Math.floor(c*n);if(u[d]){var e=u[d];return $($({},b),{},{x:(0,m.interpolate)(e.x,b.x,a),y:(0,m.interpolate)(e.y,b.y,a)})}return p?$($({},b),{},{x:(0,m.interpolate)(2*q,b.x,a),y:(0,m.interpolate)(r/2,b.y,a)}):$($({},b),{},{x:b.x,y:b.y})});return e.current=o,h.createElement(ae,{props:c,points:o,clipPathId:b,pathRef:d,strokeDasharray:k})}return h.createElement(ae,{props:c,points:g,clipPathId:b,pathRef:d,strokeDasharray:k})}),h.createElement(k.LabelListFromLabelProp,{label:c.label}))}function ag(a){var{clipPathId:b,props:c}=a,d=(0,h.useRef)(null),e=(0,h.useRef)(0),f=(0,h.useRef)(null);return h.createElement(af,{props:c,clipPathId:b,previousPointsRef:d,longestAnimatedLengthRef:e,pathRef:f})}var ah=(a,b)=>{var c,d;return{x:null!=(c=a.x)?c:void 0,y:null!=(d=a.y)?d:void 0,value:a.value,errorVal:(0,o.getValueByDataKey)(a.payload,b)}};class ai extends h.Component{render(){var{hide:a,dot:b,points:c,className:d,xAxisId:e,yAxisId:f,top:g,left:k,width:l,height:m,id:o,needClip:q,zIndex:t}=this.props;if(a)return null;var u=(0,i.clsx)("recharts-line",d),{r:v,strokeWidth:w}=(0,Q.getRadiusAndStrokeWidthFromDot)(b),x=(0,n.isClipDot)(b),y=2*v+w,z=q?"url(#clipPath-".concat(x?"":"dots-").concat(o,")"):void 0;return h.createElement(S.ZIndexLayer,{zIndex:t},h.createElement(j.Layer,{className:u},q&&h.createElement("defs",null,h.createElement(s.GraphicalItemClipPath,{clipPathId:o,xAxisId:e,yAxisId:f}),!x&&h.createElement("clipPath",{id:"clipPath-dots-".concat(o)},h.createElement("rect",{x:k-y/2,y:g-y/2,width:l+y,height:m+y}))),h.createElement(r.SetErrorBarContext,{xAxisId:e,yAxisId:f,data:c,dataPointFormatter:ah,errorBarOffset:0},h.createElement(ag,{props:this.props,clipPathId:o}))),h.createElement(p.ActivePoints,{activeDot:this.props.activeDot,points:c,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:z}))}}var aj={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:T.DefaultZIndexes.line,type:"linear"};function ak(a){var b=(0,J.resolveDefaultProps)(a,aj),{activeDot:c,animateNewValues:d,animationBegin:e,animationDuration:f,animationEasing:g,connectNulls:i,dot:j,hide:k,isAnimationActive:l,label:m,legendType:n,xAxisId:o,yAxisId:p,id:q}=b,r=_(b,X),{needClip:v}=(0,s.useNeedsClip)(o,p),w=(0,K.usePlotArea)(),x=(0,t.useChartLayout)(),y=(0,u.useIsPanorama)(),z=(0,G.useAppSelector)(a=>F(a,o,p,y,q));if("horizontal"!==x&&"vertical"!==x||null==z||null==w)return null;var{height:A,width:B,x:C,y:D}=w;return h.createElement(ai,Y({},r,{id:q,connectNulls:i,dot:j,activeDot:c,animateNewValues:d,animationBegin:e,animationDuration:f,animationEasing:g,isAnimationActive:l,hide:k,label:m,legendType:n,xAxisId:o,yAxisId:p,points:z,layout:x,height:A,width:B,left:C,top:D,needClip:v}))}var al=h.memo(function(a){var b=(0,J.resolveDefaultProps)(a,aj),c=(0,u.useIsPanorama)();return h.createElement(L.RegisterGraphicalItemId,{id:b.id,type:"line"},a=>h.createElement(h.Fragment,null,h.createElement(H.SetLegendPayload,{legendPayload:(a=>{var{dataKey:b,name:c,stroke:d,legendType:e,hide:f}=a;return[{inactive:f,dataKey:b,type:e,color:d,value:(0,o.getTooltipNameProp)(c,b),payload:a}]})(b)}),h.createElement(aa,{dataKey:b.dataKey,data:b.data,stroke:b.stroke,strokeWidth:b.strokeWidth,fill:b.fill,name:b.name,hide:b.hide,unit:b.unit,tooltipType:b.tooltipType,id:a}),h.createElement(M.SetCartesianGraphicalItem,{type:"line",id:a,data:b.data,xAxisId:b.xAxisId,yAxisId:b.yAxisId,zAxisId:0,dataKey:b.dataKey,hide:b.hide,isPanorama:c}),h.createElement(ak,Y({},b,{id:a}))))},U.propsAreEqual);al.displayName="Line";var am=a.i(85811),an=a.i(25428),ao=a.i(74668),ap=a.i(99738),aq=a.i(17792),ar=a.i(61970);function as(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function at(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?as(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):as(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function au(){return(au=Object.assign.bind()).apply(null,arguments)}function av(a){var b=(0,G.useAppDispatch)();return(0,c.useEffect)(()=>(b((0,aq.addDot)(a)),()=>{b((0,aq.removeDot)(a))})),null}function aw(a){var{x:b,y:d,r:e}=a,f=(0,ar.useClipPathId)(),g=((a,b,c,d,e)=>{var f=(0,m.isNumOrStr)(a),g=(0,m.isNumOrStr)(b),h=(0,u.useIsPanorama)(),i=(0,G.useAppSelector)(a=>(0,x.selectAxisScale)(a,"xAxis",c,h)),j=(0,G.useAppSelector)(a=>(0,x.selectAxisScale)(a,"yAxis",d,h));if(!f||!g||null==i||null==j)return null;var k=(0,ap.createLabeledScales)({x:i,y:j}),l=k.apply({x:a,y:b},{bandAware:!0});return"discard"!==e||k.isInRange(l)?l:null})(b,d,a.xAxisId,a.yAxisId,a.ifOverflow);if(!g)return null;var{x:h,y:k}=g,{shape:l,className:n,ifOverflow:o}=a,p=at(at({clipPath:"hidden"===o?"url(#".concat(f,")"):void 0},(0,P.svgPropertiesAndEvents)(a)),{},{cx:h,cy:k});return c.createElement(S.ZIndexLayer,{zIndex:a.zIndex},c.createElement(j.Layer,{className:(0,i.clsx)("recharts-reference-dot",n)},c.isValidElement(l)?c.cloneElement(l,p):"function"==typeof l?l(p):c.createElement(an.Dot,au({},p,{cx:p.cx,cy:p.cy,className:"recharts-reference-dot-dot"})),c.createElement(ao.CartesianLabelContextProvider,{x:h-e,y:k-e,width:2*e,height:2*e,upperWidth:2*e,lowerWidth:2*e},c.createElement(ao.CartesianLabelFromLabelProp,{label:a.label}),a.children)))}var ax={ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1,zIndex:T.DefaultZIndexes.scatter};function ay(a){var b=(0,J.resolveDefaultProps)(a,ax),{x:d,y:e,r:f,ifOverflow:g,yAxisId:h,xAxisId:i}=b;return c.createElement(c.Fragment,null,c.createElement(av,{y:e,x:d,r:f,yAxisId:h,xAxisId:i,ifOverflow:g}),c.createElement(aw,b))}ay.displayName="ReferenceDot";var az=a.i(18155),aA=a.i(23665),aB=a.i(64321),aC=a.i(27165),aD=a.i(67149),aE=a.i(58042),aF=a.i(94222),aG=a.i(54419),aH=a.i(59854),aI=a.i(35112),aJ=a.i(20353),aK=a.i(3190),aL=a.i(76805),aM=a.i(52517);function aN(){return(aN=Object.assign.bind()).apply(null,arguments)}function aO(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var aP={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function aQ(a){var b,{data:d,iconType:e,inactiveColor:f}=a,g=32/6,h=32/3,i=d.inactive?f:d.color,j=null!=e?e:d.type;if("none"===j)return null;if("plainline"===j)return c.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:null==(b=d.payload)?void 0:b.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===j)return c.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(16,"h").concat(h,"\n            A").concat(g,",").concat(g,",0,1,1,").concat(2*h,",").concat(16,"\n            H").concat(32,"M").concat(2*h,",").concat(16,"\n            A").concat(g,",").concat(g,",0,1,1,").concat(h,",").concat(16),className:"recharts-legend-icon"});if("rect"===j)return c.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(c.isValidElement(d.legendIcon)){var k=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aO(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aO(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},d);return delete k.legendIcon,c.cloneElement(d.legendIcon,k)}return c.createElement(aL.Symbols,{fill:i,cx:16,cy:16,size:32,sizeType:"diameter",type:j})}function aR(a){var{payload:b,iconSize:d,layout:e,formatter:f,inactiveColor:g,iconType:h}=a,j={x:0,y:0,width:32,height:32},k={display:"horizontal"===e?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return b.map((b,e)=>{var m=b.formatter||f,n=(0,i.clsx)({"recharts-legend-item":!0,["legend-item-".concat(e)]:!0,inactive:b.inactive});if("none"===b.type)return null;var o=b.inactive?g:b.color,p=m?m(b.value,b,e):b.value;return c.createElement("li",aN({className:n,style:k,key:"legend-item-".concat(e)},(0,aM.adaptEventsOfChild)(a,b,e)),c.createElement(aK.Surface,{width:d,height:d,viewBox:j,style:l,"aria-label":"".concat(p," legend icon")},c.createElement(aQ,{data:b,iconType:h,inactiveColor:g})),c.createElement("span",{className:"recharts-legend-item-text",style:{color:o}},p))})}var aS=a=>{var b=(0,J.resolveDefaultProps)(a,aP),{payload:d,layout:e,align:f}=b;return d&&d.length?c.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===e?f:"left"}},c.createElement(aR,aN({},b,{payload:d}))):null},aT=a.i(63643),aU=a.i(24993),aV=a.i(38620),aW=a.i(21402),aX=["contextPayload"];function aY(){return(aY=Object.assign.bind()).apply(null,arguments)}function aZ(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function a$(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aZ(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aZ(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function a_(a){return a.value}function a0(a){var{contextPayload:b}=a,d=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,aX),e=(0,aT.getUniqPayload)(b,a.payloadUniqBy,a_),f=a$(a$({},d),{},{payload:e});return c.isValidElement(a.content)?c.cloneElement(a.content,f):"function"==typeof a.content?c.createElement(a.content,f):c.createElement(aS,f)}function a1(a){var b=(0,G.useAppDispatch)();return(0,c.useEffect)(()=>{b((0,aW.setLegendSettings)(a))},[b,a]),null}function a2(a){var b=(0,G.useAppDispatch)();return(0,c.useEffect)(()=>(b((0,aW.setLegendSize)(a)),()=>{b((0,aW.setLegendSize)({width:0,height:0}))}),[b,a]),null}var a3={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function a4(a){var b,d=(0,J.resolveDefaultProps)(a,a3),e=(0,G.useAppSelector)(aU.selectLegendPayload),f=(0,aJ.useLegendPortal)(),g=(0,t.useMargin)(),{width:h,height:i,wrapperStyle:j,portal:k}=d,[l,n]=(0,aV.useElementOffset)([e]),o=(0,t.useChartWidth)(),p=(0,t.useChartHeight)();if(null==o||null==p)return null;var q=o-((null==g?void 0:g.left)||0)-((null==g?void 0:g.right)||0),r=(b=d.layout,"vertical"===b&&(0,m.isNumber)(i)?{height:i}:"horizontal"===b?{width:h||q}:null),s=k?j:a$(a$({position:"absolute",width:(null==r?void 0:r.width)||h||"auto",height:(null==r?void 0:r.height)||i||"auto"},function(a,b,c,d,e,f){var g,h,{layout:i,align:j,verticalAlign:k}=b;return a&&(void 0!==a.left&&null!==a.left||void 0!==a.right&&null!==a.right)||(g="center"===j&&"vertical"===i?{left:((d||0)-f.width)/2}:"right"===j?{right:c&&c.right||0}:{left:c&&c.left||0}),a&&(void 0!==a.top&&null!==a.top||void 0!==a.bottom&&null!==a.bottom)||(h="middle"===k?{top:((e||0)-f.height)/2}:"bottom"===k?{bottom:c&&c.bottom||0}:{top:c&&c.top||0}),a$(a$({},g),h)}(j,d,g,o,p,l)),j),u=null!=k?k:f;if(null==u||null==e)return null;var v=c.createElement("div",{className:"recharts-legend-wrapper",style:s,ref:n},c.createElement(a1,{layout:d.layout,align:d.align,verticalAlign:d.verticalAlign,itemSorter:d.itemSorter}),!k&&c.createElement(a2,{width:l.width,height:l.height}),c.createElement(a0,aY({},d,r,{margin:g,chartWidth:o,chartHeight:p,contextPayload:e})));return(0,aI.createPortal)(v,u)}a4.displayName="Legend";var a5=a.i(48662),a6=a.i(19721);let a7=(0,a6.default)(async()=>{},{loadableGenerated:{modules:[61392]},ssr:!1}),a8=(0,a6.default)(async()=>{},{loadableGenerated:{modules:[96909]},ssr:!1});function a9({trades:a,startDate:d,endDate:e}){let[f,h]=(0,c.useState)({dailyPnL:[],pairPerformance:[],directionPerformance:[],equity:[]});(0,c.useEffect)(()=>{if(!a.length)return;let b=a;(d||e)&&(b=a.filter(a=>{let b=new Date(a.entryTime);return!(d&&new Date(b.toISOString().slice(0,10))<new Date(d)||e&&new Date(b.toISOString().slice(0,10))>new Date(e))}));let c={};b.forEach(a=>{let b=new Date(a.entryTime).toLocaleDateString();c[b]=(c[b]||0)+(a.profitLoss||0)});let f=Object.entries(c).map(([a,b])=>({date:a,pnl:Math.round(100*b)/100})),g={};a.forEach(a=>{g[a.pair]||(g[a.pair]={wins:0,losses:0,pnl:0}),"WIN"===a.outcome&&g[a.pair].wins++,"LOSS"===a.outcome&&g[a.pair].losses++,g[a.pair].pnl+=a.profitLoss||0});let i=Object.entries(g).map(([a,b])=>({pair:a,wins:b.wins,losses:b.losses,pnl:Math.round(100*b.pnl)/100})),j={LONG:{wins:0,losses:0},SHORT:{wins:0,losses:0}};a.forEach(a=>{"WIN"===a.outcome?j[a.direction].wins++:"LOSS"===a.outcome&&j[a.direction].losses++});let k=Object.entries(j).map(([a,b])=>({direction:a,value:b.wins,name:`${a} (${b.wins} wins)`})),l=[...b].sort((a,b)=>new Date(a.entryTime).getTime()-new Date(b.entryTime).getTime()),m=0,n=-1/0,o=l.map(a=>{m+=a.profitLoss||0;let b=Math.round(((n=Math.max(n,m))-m)*100)/100;return{date:new Date(a.entryTime).toLocaleDateString(),equity:Math.round(100*m)/100,drawdown:b}});o.reduce((a,b)=>Math.max(a,b.drawdown),0),o.length&&o.reduce((a,b)=>b.equity>a.equity?b:a,o[0]),o.length&&o.reduce((a,b)=>b.equity<a.equity?b:a,o[0]),h({dailyPnL:f,pairPerformance:i,directionPerformance:k,equity:o})},[a]);let i=f.equity.length?f.equity.reduce((a,b)=>b.equity>a.equity?b:a,f.equity[0]):null,j=f.equity.length?f.equity.reduce((a,b)=>b.equity<a.equity?b:a,f.equity[0]):null,k=["#10b981","#ef4444"];return(0,b.jsxs)("div",{className:"space-y-8",children:[f.equity.length>0&&(0,b.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Equity Curve (Live)"}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)(a7,{selector:".recharts-wrapper",filename:`equity-${new Date().toISOString().slice(0,10)}.png`})})]}),(0,b.jsx)(a5.ResponsiveContainer,{width:"100%",height:320,children:(0,b.jsxs)(g,{data:f.equity,className:"equity-chart",children:["              ",(0,b.jsx)(aG.CartesianGrid,{strokeDasharray:"3 3",stroke:"#111827"}),(0,b.jsx)(aE.XAxis,{dataKey:"date",stroke:"#6b7280"}),(0,b.jsx)(aF.YAxis,{stroke:"#6b7280"}),(0,b.jsx)(aH.Tooltip,{content:(0,b.jsx)(function({active:a,payload:c,label:d}){if(!a||!c||!c.length)return null;let e=c.find(a=>"equity"===a.dataKey)||c[0],f=c.find(a=>"drawdown"===a.dataKey);return(0,b.jsxs)("div",{className:"bg-gray-900 p-2 rounded text-sm text-white",children:[(0,b.jsx)("div",{className:"font-bold",children:d}),e&&(0,b.jsxs)("div",{children:["Equity: ",(0,b.jsx)("span",{className:"font-mono",children:e.value})]}),f&&(0,b.jsxs)("div",{children:["Drawdown: ",(0,b.jsx)("span",{className:"font-mono",children:f.value})]})]})},{})}),(0,b.jsx)(am.Area,{type:"monotone",dataKey:"drawdown",fill:"#7c3aed",fillOpacity:.06,stroke:"none"}),(0,b.jsx)(al,{type:"monotone",dataKey:"equity",stroke:"#06b6d4",strokeWidth:3,dot:!1,strokeOpacity:.98,isAnimationActive:!0,animationDuration:1200}),(0,b.jsx)(al,{type:"monotone",dataKey:"drawdown",stroke:"#7c3aed",strokeWidth:2,dot:!1,strokeOpacity:.6,isAnimationActive:!0,animationDuration:1e3}),i&&(0,b.jsx)(ay,{x:i.date,y:i.equity,r:6,fill:"#06b6d4",stroke:"#fff",strokeWidth:1}),j&&(0,b.jsx)(ay,{x:j.date,y:j.equity,r:6,fill:"#7c3aed",stroke:"#fff",strokeWidth:1})]})})]}),f.dailyPnL.length>0&&(0,b.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Daily P&L"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(a7,{selector:".recharts-wrapper",filename:`daily-pnl-${new Date().toISOString().slice(0,10)}.png`}),(0,b.jsx)(a8,{trades:a,chartSelector:".recharts-wrapper"})]})]}),(0,b.jsx)(a5.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(g,{data:f.dailyPnL,children:[(0,b.jsx)(aG.CartesianGrid,{strokeDasharray:"3 3",stroke:"#111827"}),(0,b.jsx)(aE.XAxis,{dataKey:"date",stroke:"#6b7280"}),(0,b.jsx)(aF.YAxis,{stroke:"#6b7280"}),(0,b.jsx)(aH.Tooltip,{contentStyle:{backgroundColor:"#0b1220",border:"none",borderRadius:"0.5rem",color:"#fff"}}),(0,b.jsx)(al,{type:"monotone",dataKey:"pnl",stroke:"#3b82f6",dot:{fill:"#3b82f6"},isAnimationActive:!0,strokeWidth:2})]})})]}),f.pairPerformance.length>0&&(0,b.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Performance by Pair"}),(0,b.jsx)(a5.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(az.BarChart,{data:f.pairPerformance,children:[(0,b.jsx)(aG.CartesianGrid,{strokeDasharray:"3 3",stroke:"#111827"}),(0,b.jsx)(aE.XAxis,{dataKey:"pair",stroke:"#6b7280"}),(0,b.jsx)(aF.YAxis,{stroke:"#6b7280"}),(0,b.jsx)(aH.Tooltip,{contentStyle:{backgroundColor:"#0b1220",border:"none",borderRadius:"0.5rem",color:"#fff"}}),(0,b.jsx)(a4,{}),(0,b.jsx)(aA.Bar,{dataKey:"wins",fill:"#10b981"}),(0,b.jsx)(aA.Bar,{dataKey:"losses",fill:"#ef4444"})]})})]}),f.directionPerformance.length>0&&(0,b.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Win Rate by Direction"}),(0,b.jsx)(a5.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(aB.PieChart,{children:[(0,b.jsx)(aC.Pie,{data:f.directionPerformance,cx:"50%",cy:"50%",labelLine:!1,label:({name:a})=>a,outerRadius:80,fill:"#8884d8",dataKey:"value",children:f.directionPerformance.map((a,c)=>(0,b.jsx)(aD.Cell,{fill:k[c%k.length]},`cell-${c}`))}),(0,b.jsx)(aH.Tooltip,{contentStyle:{backgroundColor:"#0b1220",border:"none",borderRadius:"0.5rem",color:"#fff"}})]})})]})]})}function ba({trades:a,onSelectRange:d}){let e=(0,c.useMemo)(()=>{let b={},c=new Date;for(let a=0;a<365;a++){let d=new Date(c);d.setDate(c.getDate()-a),b[d.toISOString().slice(0,10)]=0}return a.forEach(a=>{let c=function(a){if(!a)return null;let b=new Date("number"==typeof a?a:String(a));return!(b instanceof Date)||isNaN(b.getTime())?null:b.toISOString().slice(0,10)}(a.entryTime);c&&void 0!==b[c]&&(b[c]=(b[c]||0)+(a.profitLoss||0))}),Object.entries(b).map(([a,b])=>({day:a,pnl:b}))},[a]),f=Math.max(...e.map(a=>Math.abs(a.pnl)),1),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(null);(0,c.useEffect)(()=>{d&&d({start:g,end:i})},[g,i,d]);let[k,l]=(0,c.useState)(!1);function m(a){if(k){let b=new Date(a),c=new Date(b.getFullYear(),b.getMonth(),1).toISOString().slice(0,10),d=new Date(b.getFullYear(),b.getMonth()+1,0).toISOString().slice(0,10);h(c),j(d);return}if(!g){h(a),j(null);return}if(g&&!i){if(a===g){h(null),j(null);return}let b=new Date(g);new Date(a)<b?(h(a),j(b.toISOString().slice(0,10))):j(a);return}h(a),j(null)}return(0,b.jsxs)("div",{className:"card-glass p-4 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Yearly P&L Heatmap"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"text-xs text-gray-400",children:[g&&(0,b.jsxs)("span",{children:["From ",(0,b.jsx)("strong",{children:g})]})," ",i&&(0,b.jsxs)("span",{children:[" to ",(0,b.jsx)("strong",{children:i})]}),(g||i)&&(0,b.jsx)("button",{className:"ml-3 text-sm text-blue-400",onClick:()=>{h(null),j(null),d&&d({start:null,end:null})},children:"Clear"})]}),(0,b.jsx)("button",{type:"button","aria-pressed":k,"aria-label":"Toggle month zoom",className:`px-2 py-1 rounded ${k?"bg-indigo-600 text-white":"bg-transparent text-gray-300 border border-gray-700"}`,onClick:()=>l(a=>!a),children:k?"Month Zoom: ON":"Month Zoom: OFF"})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-52 gap-1",role:"grid","aria-label":"Yearly profit/loss heatmap",style:{gap:"6px"},children:e.map(a=>{let c=Math.min(1,Math.abs(a.pnl)/f),d=a.pnl>0?`rgba(16,185,129,${.14+.86*c})`:a.pnl<0?`rgba(239,68,68,${.14+.86*c})`:"transparent",e=function(a){if(!g)return!1;if(g&&!i)return a===g;let b=new Date(g),c=new Date(i),d=new Date(a);return d>=b&&d<=c}(a.day),h=Math.abs(a.pnl)>.25*f;return(0,b.jsx)("button",{title:`${a.day}: ${a.pnl}`,"aria-pressed":e,onClick:()=>m(a.day),onKeyDown:b=>{("Enter"===b.key||" "===b.key)&&(b.preventDefault(),m(a.day))},style:{background:d,width:"36px",height:"36px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--foreground)",fontSize:"11px",...e?{boxShadow:"0 0 0 3px rgba(99,102,241,0.12)",outline:"none"}:{}},className:"focus:outline-none",children:h?a.pnl>0?`+$${Math.round(a.pnl)}`:`-$${Math.abs(Math.round(a.pnl))}`:""},a.day)})}),(0,b.jsx)("div",{className:"text-xs text-gray-400 mt-2",children:"Green = Profit, Pink = Loss. Click a day to set start, click another to set end. Toggle Month Zoom to select whole month on click. Clear to reset selection."})]})}function bb({trades:a}){let d=(0,c.useMemo)(()=>{let b={};return a.forEach(a=>{let c=new Date(a.entryTime),d=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}`;b[d]||(b[d]={pnl:0,trades:[]}),b[d].pnl+=a.profitLoss||0,b[d].trades.push(a)}),Object.entries(b).sort((a,b)=>b[0].localeCompare(a[0]))},[a]),[e,f]=(0,c.useState)({});return(0,b.jsxs)("div",{className:"card-glass p-4 rounded-lg",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Monthly Performance"}),(0,b.jsx)("div",{className:"space-y-2",children:d.map(([a,c])=>(0,b.jsxs)("div",{className:"border border-transparent hover:border-gray-700 rounded-lg p-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>f(b=>({...b,[a]:!b[a]})),children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-300 font-medium",children:a}),(0,b.jsxs)("div",{className:"text-xs text-gray-400",children:[c.trades.length," trades"]})]}),(0,b.jsx)("div",{className:`text-lg font-bold ${c.pnl>=0?"text-green-400":"text-red-400"}`,children:c.pnl.toFixed(2)})]}),e[a]&&(0,b.jsx)("div",{className:"mt-2 text-sm text-gray-300",children:c.trades.map((a,c)=>(0,b.jsxs)("div",{className:"py-1 border-t border-gray-800",children:[new Date(a.entryTime).toLocaleString()," — ",a.pair," — ",a.profitLoss]},c))})]},a))})]})}var bc=a.i(42029),bd=a.i(6704),be=a.i(71297);function bf(){let{theme:a,toggleTheme:d}=(0,bc.useTheme)(),[e,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)({start:null,end:null});return((0,c.useEffect)(()=>{h(!0)},[]),(0,c.useEffect)(()=>{g&&(async()=>{try{let a=await fetch("/api/trades",{headers:{"x-user-id":"demo-user"}});if(!a.ok){let b=null;try{b=await a.json()}catch(c){b=await a.text()}console.error("Failed to fetch trades:",a.status,b),f([]);return}let b=await a.json();if(!Array.isArray(b)){console.warn("Unexpected trades payload in analytics page",b),f([]);return}f(b)}catch(a){console.error("Error fetching trades:",a)}})()},[g]),g)?(0,b.jsxs)("div",{className:"min-h-screen bg-white dark:bg-slate-950",children:[(0,b.jsxs)("main",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Analytics & Insights"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your trading performance with detailed charts and metrics"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)(be.default,{className:"flex-1 p-4",children:(0,b.jsx)(a9,{trades:e,startDate:i.start,endDate:i.end})}),(0,b.jsxs)("div",{className:"ml-auto text-sm text-gray-400",children:[i.start&&(0,b.jsxs)("div",{children:["Selected: ",(0,b.jsx)("strong",{children:i.start})," ",i.end&&(0,b.jsxs)("span",{children:["— ",(0,b.jsx)("strong",{children:i.end})]})]}),!i.start&&!i.end&&(0,b.jsx)("div",{className:"text-gray-500",children:"No date range selected"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8",children:[(0,b.jsx)(be.default,{className:"p-4",children:(0,b.jsx)(ba,{trades:e,onSelectRange:a=>j(a)})}),(0,b.jsx)(be.default,{className:"p-4",children:(0,b.jsx)(bb,{trades:e})})]})]}),(0,b.jsx)(bd.Toaster,{position:"bottom-right"})]}):(0,b.jsx)("div",{className:"min-h-screen bg-white dark:bg-slate-950"})}a.s(["default",()=>bf],16683)}];

//# sourceMappingURL=src_app_analytics_page_tsx_5c2fe4d5._.js.map