{"version":3,"sources":["../../../../src/app/backtest/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport DashboardHeaderV3 from '@/components/DashboardHeaderV3';\nimport { motion } from 'framer-motion';\nimport { LineChart, Line, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\n\ninterface BacktestTrade {\n  entryPrice: number;\n  exitPrice?: number;\n  volume: number;\n  direction: 'LONG' | 'SHORT';\n  stopLoss?: number;\n  takeProfit?: number;\n}\n\ninterface BacktestResult {\n  totalTrades: number;\n  wins: number;\n  losses: number;\n  winRate: number;\n  totalProfit: number;\n  profitFactor: number;\n  expectancy: number;\n  maxDrawdown: number;\n  riskRewardRatio: number;\n  equityCurve?: Array<{ trade: number; equity: number }>;\n}\n\ninterface Strategy {\n  id: string;\n  strategy_name: string;\n  _count?: {\n    trades: number;\n  };\n}\n\nexport default function BacktestPage() {\n  const [strategies, setStrategies] = useState<Strategy[]>([]);\n  const [selectedStrategy, setSelectedStrategy] = useState<string>('');\n  const [riskPercent, setRiskPercent] = useState(2);\n  const [tradeCount, setTradeCount] = useState(20);\n  const [result, setResult] = useState<BacktestResult | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [equityData, setEquityData] = useState<Array<{ trade: number; equity: number }>>([]);\n\n  useEffect(() => {\n    fetchStrategies();\n  }, []);\n\n  async function fetchStrategies() {\n    try {\n      const response = await fetch('/api/strategies', {\n        headers: { 'x-user-id': 'demo@forex-research.com' },\n      });\n      const data = await response.json();\n      if (data.success && data.strategies) {\n        setStrategies(data.strategies);\n        if (data.strategies.length > 0) {\n          setSelectedStrategy(data.strategies[0].id);\n        }\n      }\n    } catch (error) {\n      console.error('Failed to fetch strategies:', error);\n    }\n  }\n\n  async function runBacktest() {\n    if (!selectedStrategy) return;\n\n    setLoading(true);\n    try {\n      // Simulate backtest with random trades\n      const mockTrades: BacktestTrade[] = Array.from({ length: tradeCount }, () => ({\n        entryPrice: 100 + Math.random() * 20 - 10,\n        exitPrice: 100 + Math.random() * 20 - 10,\n        volume: Math.random() < 0.7 ? 0.1 : 0.05,\n        direction: Math.random() < 0.5 ? 'LONG' : 'SHORT',\n        stopLoss: 100 - 2,\n        takeProfit: 100 + 3,\n      }));\n\n      // Calculate backtest results\n      let wins = 0;\n      let losses = 0;\n      let totalProfit = 0;\n      let totalLoss = 0;\n      let equity = 10000;\n      let peakEquity = equity;\n      let maxDrawdown = 0;\n      const equityPoints = [{ trade: 0, equity }];\n\n      for (let i = 0; i < mockTrades.length; i++) {\n        const trade = mockTrades[i];\n        if (!trade.exitPrice) continue;\n\n        const pips =\n          trade.direction === 'LONG'\n            ? trade.exitPrice - trade.entryPrice\n            : trade.entryPrice - trade.exitPrice;\n\n        const profit = pips * 100 * trade.volume * (riskPercent / 100);\n\n        if (profit > 0) {\n          wins++;\n          totalProfit += profit;\n        } else {\n          losses++;\n          totalLoss += Math.abs(profit);\n        }\n\n        equity += profit;\n        peakEquity = Math.max(peakEquity, equity);\n        const drawdown = ((peakEquity - equity) / peakEquity) * 100;\n        maxDrawdown = Math.max(maxDrawdown, drawdown);\n\n        equityPoints.push({ trade: i + 1, equity: Math.round(equity * 100) / 100 });\n      }\n\n      const totalTrades = wins + losses;\n      const winRate = totalTrades > 0 ? (wins / totalTrades) * 100 : 0;\n      const profitFactor = totalLoss > 0 ? totalProfit / totalLoss : 0;\n      const expectancy =\n        totalTrades > 0 ? ((wins * (totalProfit / wins) - losses * (totalLoss / losses)) / totalTrades) * 100 : 0;\n      const riskRewardRatio = totalProfit > 0 && totalLoss > 0 ? totalProfit / totalLoss : 0;\n\n      const backTestResult: BacktestResult = {\n        totalTrades,\n        wins,\n        losses,\n        winRate,\n        totalProfit: Math.round(totalProfit * 100) / 100,\n        profitFactor: Math.round(profitFactor * 100) / 100,\n        expectancy: Math.round(expectancy * 100) / 100,\n        maxDrawdown: Math.round(maxDrawdown * 100) / 100,\n        riskRewardRatio: Math.round(riskRewardRatio * 100) / 100,\n      };\n\n      setResult(backTestResult);\n      setEquityData(equityPoints);\n    } catch (error) {\n      console.error('Backtest failed:', error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  const metrics = result\n    ? [\n        { label: 'Win Rate', value: `${result.winRate.toFixed(1)}%`, color: 'text-green-400' },\n        { label: 'Total Trades', value: result.totalTrades, color: 'text-blue-400' },\n        { label: 'Wins / Losses', value: `${result.wins} / ${result.losses}`, color: 'text-purple-400' },\n        { label: 'Profit Factor', value: result.profitFactor.toFixed(2), color: 'text-yellow-400' },\n        { label: 'Total Profit', value: `$${result.totalProfit}`, color: 'text-green-500' },\n        { label: 'Max Drawdown', value: `${result.maxDrawdown.toFixed(2)}%`, color: 'text-red-400' },\n        { label: 'Expectancy', value: `$${result.expectancy}`, color: 'text-cyan-400' },\n        { label: 'Risk/Reward', value: result.riskRewardRatio.toFixed(2), color: 'text-indigo-400' },\n      ]\n    : [];\n\n  return (\n    <div className=\"min-h-screen bg-[#0f0e1d] text-white\">\n      <DashboardHeaderV3 />\n\n      <main className=\"container mx-auto px-4 py-8\">\n        {/* Header */}\n        <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold mb-2\">Strategy Backtest Simulator</h1>\n          <p className=\"text-gray-400\">Test strategy performance with historical data simulation</p>\n        </motion.div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n          {/* Controls */}\n          <motion.div\n            initial={{ opacity: 0, x: -20 }}\n            animate={{ opacity: 1, x: 0 }}\n            className=\"bg-gradient-to-br from-gray-900 to-gray-800/50 rounded-xl border border-gray-700 p-6\"\n          >\n            <h2 className=\"text-xl font-bold mb-6\">Backtest Settings</h2>\n\n            {/* Strategy Selection */}\n            <div className=\"mb-6\">\n              <label className=\"block text-sm font-semibold mb-2\">Strategy</label>\n              <select\n                value={selectedStrategy}\n                onChange={(e) => setSelectedStrategy(e.target.value)}\n                className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-purple-500 focus:outline-none\"\n              >\n                {strategies.map((s) => (\n                  <option key={s.id} value={s.id}>\n                    {s.strategy_name}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Risk Percent Slider */}\n            <div className=\"mb-6\">\n              <label className=\"block text-sm font-semibold mb-2\">\n                Risk per Trade: <span className=\"text-purple-400\">{riskPercent}%</span>\n              </label>\n              <input\n                type=\"range\"\n                min=\"0.5\"\n                max=\"5\"\n                step=\"0.5\"\n                value={riskPercent}\n                onChange={(e) => setRiskPercent(parseFloat(e.target.value))}\n                className=\"w-full cursor-pointer accent-purple-500\"\n              />\n            </div>\n\n            {/* Trade Count Slider */}\n            <div className=\"mb-8\">\n              <label className=\"block text-sm font-semibold mb-2\">\n                Number of Trades: <span className=\"text-purple-400\">{tradeCount}</span>\n              </label>\n              <input\n                type=\"range\"\n                min=\"10\"\n                max=\"100\"\n                step=\"10\"\n                value={tradeCount}\n                onChange={(e) => setTradeCount(parseInt(e.target.value))}\n                className=\"w-full cursor-pointer accent-purple-500\"\n              />\n            </div>\n\n            {/* Run Button */}\n            <motion.button\n              whileHover={{ scale: 1.02 }}\n              whileTap={{ scale: 0.98 }}\n              onClick={runBacktest}\n              disabled={loading || !selectedStrategy}\n              className=\"w-full py-3 bg-gradient-to-r from-purple-600 to-purple-500 rounded-lg font-semibold disabled:opacity-50 hover:shadow-lg hover:shadow-purple-500/50 transition-all\"\n            >\n              {loading ? 'Running Backtest...' : 'Run Backtest'}\n            </motion.button>\n          </motion.div>\n\n          {/* Results */}\n          <div className=\"lg:col-span-3 space-y-6\">\n            {/* Metrics Grid */}\n            {result && (\n              <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className=\"space-y-4\">\n                <h3 className=\"text-lg font-bold\">Results</h3>\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                  {metrics.map((metric, idx) => (\n                    <motion.div\n                      key={metric.label}\n                      initial={{ opacity: 0, scale: 0.9 }}\n                      animate={{ opacity: 1, scale: 1 }}\n                      transition={{ delay: idx * 0.05 }}\n                      className=\"bg-gradient-to-br from-gray-900 to-gray-800/50 rounded-lg border border-gray-700 p-4\"\n                    >\n                      <p className=\"text-xs text-gray-400 font-semibold\">{metric.label}</p>\n                      <p className={`text-xl font-bold mt-1 ${metric.color}`}>{metric.value}</p>\n                    </motion.div>\n                  ))}\n                </div>\n              </motion.div>\n            )}\n\n            {/* Equity Curve Chart */}\n            {result && equityData.length > 0 && (\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                className=\"bg-gradient-to-br from-gray-900 to-gray-800/50 rounded-xl border border-gray-700 p-6\"\n              >\n                <h3 className=\"text-lg font-bold mb-4\">Equity Curve</h3>\n                <ResponsiveContainer width=\"100%\" height={300}>\n                  <LineChart data={equityData}>\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#374151\" />\n                    <XAxis dataKey=\"trade\" stroke=\"#6b7280\" />\n                    <YAxis stroke=\"#6b7280\" />\n                    <Tooltip\n                      contentStyle={{\n                        backgroundColor: '#1f2937',\n                        border: '1px solid #374151',\n                        borderRadius: '8px',\n                      }}\n                      labelStyle={{ color: '#f3f4f6' }}\n                    />\n                    <Legend />\n                    <Line\n                      type=\"monotone\"\n                      dataKey=\"equity\"\n                      stroke=\"#a78bfa\"\n                      dot={false}\n                      isAnimationActive={false}\n                      name=\"Account Equity\"\n                    />\n                  </LineChart>\n                </ResponsiveContainer>\n              </motion.div>\n            )}\n\n            {/* Stats Breakdown */}\n            {result && (\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                className=\"grid grid-cols-2 md:grid-cols-3 gap-4\"\n              >\n                <div className=\"bg-gradient-to-br from-gray-900 to-gray-800/50 rounded-lg border border-gray-700 p-4\">\n                  <p className=\"text-xs text-gray-400 font-semibold\">Consecutive Wins</p>\n                  <p className=\"text-2xl font-bold text-green-400 mt-1\">\n                    {Math.ceil(result.wins * (result.winRate / 100))}\n                  </p>\n                </div>\n                <div className=\"bg-gradient-to-br from-gray-900 to-gray-800/50 rounded-lg border border-gray-700 p-4\">\n                  <p className=\"text-xs text-gray-400 font-semibold\">Avg Win/Loss Ratio</p>\n                  <p className=\"text-2xl font-bold text-blue-400 mt-1\">{result.profitFactor.toFixed(2)}</p>\n                </div>\n                <div className=\"bg-gradient-to-br from-gray-900 to-gray-800/50 rounded-lg border border-gray-700 p-4\">\n                  <p className=\"text-xs text-gray-400 font-semibold\">Return %</p>\n                  <p className=\"text-2xl font-bold text-purple-400 mt-1\">\n                    {((result.totalProfit / 10000) * 100).toFixed(1)}%\n                  </p>\n                </div>\n              </motion.div>\n            )}\n\n            {/* Empty State */}\n            {!result && (\n              <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                className=\"bg-gradient-to-br from-gray-900 to-gray-800/50 rounded-xl border border-gray-700 p-12 text-center\"\n              >\n                <div className=\"text-6xl mb-4\">ðŸ“ˆ</div>\n                <p className=\"text-gray-400\">Configure settings and click \"Run Backtest\" to see results</p>\n              </motion.div>\n            )}\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,OAgCe,SAAS,IACtB,GAAM,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAa,EAAE,EACrD,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,IAC3D,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACzC,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACvC,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAwB,MACtD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA2C,EAAE,EAMzF,eAAe,IACb,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,kBAAmB,CAC9C,QAAS,CAAE,YAAa,yBAA0B,CACpD,GACM,EAAO,MAAM,EAAS,IAAI,GAC5B,EAAK,OAAO,EAAI,EAAK,UAAU,EAAE,CACnC,EAAc,EAAK,UAAU,EACzB,EAAK,UAAU,CAAC,MAAM,CAAG,GAAG,AAC9B,EAAoB,EAAK,UAAU,CAAC,EAAE,CAAC,EAAE,EAG/C,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,8BAA+B,EAC/C,CACF,CAEA,eAAe,IACb,GAAK,CAAD,EAEJ,GAAW,GACX,GAAI,CAEF,IAAM,CALe,CAKe,MAAM,IAAI,CAAC,CAAE,OAAQ,CAAW,EAAG,IAAM,CAAC,CAC5E,WAAY,IAAsB,GAAhB,KAAK,MAAM,GAAU,GACvC,UAAW,IAAM,AAAgB,QAAX,MAAM,GAAU,GACtC,OAAwB,GAAhB,KAAK,MAAM,GAAW,GAAM,IACpC,UAA2B,GAAhB,KAAK,MAAM,GAAW,OAAS,QAC1C,SAAU,GACV,GADgB,QACJ,IACd,CAAC,CADmB,CAIhB,EAAO,EACP,EAAS,EACT,EAAc,EACd,EAAY,EACZ,MACA,EADS,IAET,EAAc,EACZ,EAAe,CAAC,AAFL,CAEO,MAAO,SAAG,CAAO,EAAE,CAE3C,IAAK,IAAI,EAAI,EAAG,EAAI,EAAW,MAAM,CAAE,IAAK,CAC1C,IAAM,EAAQ,CAAU,CAAC,EAAE,CAC3B,GAAI,CAAC,EAAM,SAAS,CAAE,SAEtB,IAAM,EACgB,SAApB,EAAM,SAAS,CACX,EAAM,SAAS,CAAG,EAAM,UAAU,CAClC,EAAM,UAAU,CAAG,EAAM,SAAS,CAElC,EAAgB,IAAP,EAAa,EAAM,MAAM,EAAI,CAAD,CAAe,GAAA,CAEtD,AAFyD,GAEhD,GACX,AADc,IAEd,GAAe,IAEf,IACA,GAAa,KAAK,GAAG,CAAC,IAGxB,GAAU,EAEV,IAAM,EAAY,CADlB,AACmB,GADN,KAAK,GAAG,CAAC,EAAY,EAAA,EACF,CAAA,CAAM,CAAI,EAAc,IACxD,EAAc,KAAK,GAAG,CAAC,EAAa,GAEpC,EAAa,IAAI,CAAC,CAAE,MAAO,EAAI,EAAG,OAAQ,KAAK,KAAK,CAAU,IAAT,GAAgB,GAAI,EAC3E,CAEA,IAAM,EAAc,EAAO,EACrB,EAAU,EAAc,EAAK,EAAO,EAAe,IAAM,EACzD,EAAe,EAAY,EAAI,EAAc,EAAY,EACzD,EACJ,EAAc,EAAK,CAAS,EAAc,EAAtB,EAA0B,AAAI,AAAU,EAAY,GAA7C,AAAmD,CAAC,CAAI,EAAxB,AAAuC,IAAM,EACpG,EAAkB,EAAc,GAAK,EAAY,EAAI,EAAc,EAAY,EAE/E,EAAiC,CACrC,mBACA,SACA,UACA,EACA,YAAa,KAAK,KAAK,CAAe,AAAd,OAAqB,IAC7C,aAAc,KAAK,KAAK,CAAC,AAAe,OAAO,IAC/C,WAAY,KAAK,KAAK,CAAc,IAAb,GAAoB,IAC3C,YAAa,KAAK,KAAK,CAAC,AAAc,OAAO,IAC7C,gBAAiB,KAAK,KAAK,CAAmB,IAAlB,GAAyB,GACvD,EAEA,EAAU,GACV,EAAc,EAChB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,mBAAoB,EACpC,QAAU,CACR,GAAW,EACb,EACF,CAnGA,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACR,GACF,EAAG,EAAE,EAmGL,IAAM,EAAU,EACZ,CACE,CAAE,MAAO,WAAY,MAAO,CAAA,EAAG,EAAO,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAE,MAAO,gBAAiB,EACrF,CAAE,MAAO,eAAgB,MAAO,EAAO,WAAW,CAAE,MAAO,eAAgB,EAC3E,CAAE,MAAO,gBAAiB,MAAO,CAAA,EAAG,EAAO,IAAI,CAAC,GAAG,EAAE,EAAO,MAAM,CAAA,CAAE,CAAE,MAAO,iBAAkB,EAC/F,CAAE,MAAO,gBAAiB,MAAO,EAAO,YAAY,CAAC,OAAO,CAAC,GAAI,MAAO,iBAAkB,EAC1F,CAAE,MAAO,eAAgB,MAAO,CAAC,CAAC,EAAE,EAAO,WAAW,CAAA,CAAE,CAAE,MAAO,gBAAiB,EAClF,CAAE,MAAO,eAAgB,MAAO,CAAA,EAAG,EAAO,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAE,MAAO,cAAe,EAC3F,CAAE,MAAO,aAAc,MAAO,CAAC,CAAC,EAAE,EAAO,UAAU,CAAA,CAAE,CAAE,MAAO,eAAgB,EAC9E,CAAE,MAAO,cAAe,MAAO,EAAO,eAAe,CAAC,OAAO,CAAC,GAAI,MAAO,iBAAkB,EAC5F,CACD,EAAE,CAEN,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAiB,CAAA,CAAA,GAElB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,wCAEd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CAAC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAAG,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAAG,UAAU,iBACnF,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,gCACxC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,iEAG/B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,QAAS,CAAE,QAAS,EAAG,EAAG,CAAC,EAAG,EAC9B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,UAAU,iGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kCAAyB,sBAGvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,4CAAmC,aACpD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAoB,EAAE,MAAM,CAAC,KAAK,EACnD,UAAU,gIAET,EAAW,GAAG,CAAC,AAAC,GACf,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAkB,MAAO,EAAE,EAAE,UAC3B,EAAE,aAAa,EADL,EAAE,EAAE,QAQvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,6CAAmC,mBAClC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,EAAY,UAEjE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,IAAI,MACJ,IAAI,IACJ,KAAK,MACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,WAAW,EAAE,MAAM,CAAC,KAAK,GACzD,UAAU,+CAKd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,6CAAmC,qBAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2BAAmB,OAEvD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,IAAI,KACJ,IAAI,MACJ,KAAK,KACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAc,SAAS,EAAE,MAAM,CAAC,KAAK,GACtD,UAAU,+CAKd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,MAAM,CAAA,CACZ,WAAY,CAAE,MAAO,IAAK,EAC1B,SAAU,CAAE,MAAO,GAAK,EACxB,QAAS,EACT,SAAU,GAAW,CAAC,EACtB,UAAU,6KAET,EAAU,sBAAwB,oBAKvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCAEZ,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CAAC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAAG,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAAG,UAAU,sBACnF,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6BAAoB,YAClC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACZ,EAAQ,GAAG,CAAC,CAAC,EAAQ,IACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CAET,QAAS,CAAE,QAAS,EAAG,MAAO,EAAI,EAClC,QAAS,CAAE,QAAS,EAAG,MAAO,CAAE,EAChC,WAAY,CAAE,MAAa,IAAN,CAAW,EAChC,UAAU,iGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+CAAuC,EAAO,KAAK,GAChE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,CAAC,uBAAuB,EAAE,EAAO,KAAK,CAAA,CAAE,UAAG,EAAO,KAAK,KAPhE,EAAO,KAAK,QAe1B,GAAU,EAAW,MAAM,CAAG,GAC7B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,UAAU,iGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kCAAyB,iBACvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,mBAAmB,CAAA,CAAC,MAAM,OAAO,OAAQ,aACxC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,KAAM,YACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,gBAAgB,MAAM,OAAO,YAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,QAAQ,OAAO,YAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,OAAO,YACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CACN,aAAc,CACZ,gBAAiB,UACjB,OAAQ,oBACR,aAAc,KAChB,EACA,WAAY,CAAE,MAAO,SAAU,IAEjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,GACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CACH,KAAK,WACL,QAAQ,SACR,OAAO,UACP,KAAK,EACL,mBAAmB,EACnB,KAAK,2BAQd,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,UAAU,kDAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iGACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+CAAsC,qBACnD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDACV,KAAK,IAAI,CAAC,EAAO,IAAI,EAAI,CAAD,CAAQ,OAAO,CAAG,GAAA,CAAG,OAGlD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iGACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+CAAsC,uBACnD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iDAAyC,EAAO,YAAY,CAAC,OAAO,CAAC,QAEpF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iGACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+CAAsC,aACnD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,oDACV,CAAE,EAAO,WAAW,CAAG,IAAS,GAAA,CAAG,CAAE,OAAO,CAAC,GAAG,aAOxD,CAAC,GACA,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,QAAS,CAAE,QAAS,CAAE,EACtB,QAAS,CAAE,QAAS,CAAE,EACtB,UAAU,8GAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBAAgB,OAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,6EAQ7C"}